import{_ as g,E as b,a as c,b as A,c as k,d as C,e as V,f as B,o as $,g as w,h as o,t as u,i as a,w as s,V as F,s as m,R as y,j as f,p as I,k as D,l as S,m as U}from"./index.f371cdd8.js";class N extends F{constructor(){super(...arguments),this.data={sex:"\u672A\u77E5",height:"\u672A\u77E5",phone:"\u672A\u77E5",email:"\u672A\u77E5",education:"\u672A\u77E5",school:"\u672A\u77E5",address:"\u672A\u77E5",skills:"\u672A\u77E5",text:`\u8FD9\u4E2A\u4EBA\u5F88\u61D2
\u4EC0\u4E48\u90FD\u6CA1\u6709\u5199...`},this.editor={visible:!1,title:"\u4FEE\u6539\u4FE1\u606F",key:"",data:""},this.changed=!1}mounted(){}get username(){var e,i;return(i=(e=m.state.userInfo)==null?void 0:e.username)!=null?i:"\u672A\u77E5"}edit(e){this.editor.key=e,this.editor.data=this.data[e],this.editor.visible=!0}commit(){this.data[this.editor.key]=this.editor.data,this.editor.visible=!1,this.changed=!0}submitUpdate(){y.inst({url:"info/update",data:qs.stringify(this.data),method:"post"}).then(e=>{console.log(e);let i=JSON.parse(e.data);f({message:i.msg,type:i.status=="success"?"success":"error",duration:1e3}),i.status=="success"&&(this.changed=!1,m.commit("setUserInfo",this.data))}).catch(e=>{console.log(e),f({message:e.messages,type:"error",duration:1e3})})}}const R=N,q=t=>(I("data-v-545e31a3"),t=t(),D(),t),z={class:"root container"},j={class:"top-bar"},J={class:"username"},M={class:"header"},O=q(()=>o("span",{style:{"font-size":"3ex","margin-left":"10px","margin-top":"5px"}},"ID:xxx",-1)),T={class:"content"},G=U("\u4FDD\u5B58\u4FEE\u6539");function H(t,e,i,K,L,P){const _=b,n=c,d=A,r=k,p=C,E=V,v=B,h=S;return $(),w("div",z,[o("div",j,[o("span",J,u(t.username),1)]),o("div",M,[a(_,{class:"icon"}),O]),o("div",T,[a(v,{"label-width":"100px"},{default:s(()=>[a(r,null,{default:s(()=>[a(d,{span:12},{default:s(()=>[a(n,{onClick:e[0]||(e[0]=l=>t.edit("sex")),label:"\u6027\u522B"},{default:s(()=>[o("span",null,u(t.data.sex),1)]),_:1})]),_:1}),a(d,{span:12},{default:s(()=>[a(n,{onClick:e[1]||(e[1]=l=>t.edit("height")),label:"\u8EAB\u9AD8"},{default:s(()=>[o("span",null,u(t.data.height),1)]),_:1})]),_:1})]),_:1}),a(r,null,{default:s(()=>[a(d,{span:12},{default:s(()=>[a(n,{onClick:e[2]||(e[2]=l=>t.edit("phone")),label:"\u624B\u673A"},{default:s(()=>[o("span",null,u(t.data.phone),1)]),_:1})]),_:1}),a(d,{span:12},{default:s(()=>[a(n,{onClick:e[3]||(e[3]=l=>t.edit("email")),label:"\u90AE\u7BB1"},{default:s(()=>[o("span",null,u(t.data.email),1)]),_:1})]),_:1})]),_:1}),a(r,null,{default:s(()=>[a(d,{span:12},{default:s(()=>[a(n,{onClick:e[4]||(e[4]=l=>t.edit("education")),label:"\u5B66\u5386"},{default:s(()=>[o("span",null,u(t.data.education),1)]),_:1})]),_:1}),a(d,{span:12},{default:s(()=>[a(n,{onClick:e[5]||(e[5]=l=>t.edit("school")),label:"\u5B66\u6821"},{default:s(()=>[o("span",null,u(t.data.school),1)]),_:1})]),_:1})]),_:1}),a(r,null,{default:s(()=>[a(d,{span:12},{default:s(()=>[a(n,{onClick:e[6]||(e[6]=l=>t.edit("address")),label:"\u4F4F\u5740"},{default:s(()=>[o("span",null,u(t.data.address),1)]),_:1})]),_:1}),a(d,{span:12},{default:s(()=>[a(n,{onClick:e[7]||(e[7]=l=>t.edit("skills")),label:"\u6280\u80FD"},{default:s(()=>[o("span",null,u(t.data.skills),1)]),_:1})]),_:1})]),_:1}),a(n,{class:"no-click",label:"\u4E2A\u4EBA\u7B80\u4ECB"},{default:s(()=>[a(p,{class:"comment",modelValue:t.data.text,"onUpdate:modelValue":e[8]||(e[8]=l=>t.data.text=l),onChange:e[9]||(e[9]=l=>this.changed=!0),type:"textarea",maxlength:"200",resize:"none",rows:"8","show-word-limit":""},null,8,["modelValue"])]),_:1}),a(E,{type:"primary",disabled:!t.changed,onClick:t.submitUpdate,round:""},{default:s(()=>[G]),_:1},8,["disabled","onClick"])]),_:1})]),a(h,{modelValue:t.editor.visible,"onUpdate:modelValue":e[11]||(e[11]=l=>t.editor.visible=l),title:t.editor.title,onSubmit:t.commit},{content:s(()=>[a(p,{modelValue:t.editor.data,"onUpdate:modelValue":e[10]||(e[10]=l=>t.editor.data=l)},null,8,["modelValue"])]),_:1},8,["modelValue","title","onSubmit"])])}var W=g(R,[["render",H],["__scopeId","data-v-545e31a3"]]);export{W as default};
